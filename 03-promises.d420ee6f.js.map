{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,kBACpCC,EAAYF,SAASC,cAAc,iBACnCE,EAASH,SAASC,cAAc,mBAChCG,EAAYJ,SAASC,cAAc,UAEzCG,EAAUC,iBAAiB,SA+C3B,SAAuBC,GACnBA,EAAEC,iBAEJ,IAAIC,EAAUC,OAAON,EAAOO,OACxBC,EAAaF,OAAOP,EAAUQ,OAC9BE,EAAQH,OAAOV,EAAWW,OAE9B,GAAIF,EAAU,GAAKG,EAAc,GAAKC,EAAQ,EAC5C,QAnCJ,SAAoBJ,EAASG,EAAaC,GACxC,I,kBACE,IAAIC,EAAWC,EAEfV,EAAUW,aAAa,WAAY,YAEzB,IAAND,IAGJF,GAASD,GAtBb,SAAuBK,EAAUJ,GAC7B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GACzBC,YAAW,WACWC,KAAKC,SAAW,GAEtCJ,EAAQ,CAAEF,WAAUJ,UAEpBO,EAAO,CAAEH,WAAUJ,S,GAEpBA,E,IAgBHW,CAAcV,EAAUD,GACnBY,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALb,MACnBe,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAErEK,OAAM,SAAAN,G,IAAGT,EAAQS,EAART,SAAUU,EAAKD,EAALb,MACpBe,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAqCF,OAAfd,EAAS,QAAYc,OAANJ,EAAM,M,IAEtEO,SAAQ,WACDnB,IAAMN,EACAJ,EAAU8B,gBAAgB,WAAY,YACtC9B,EAAUW,aAAa,WAAY,W,KArB1CoB,EAAI,EAAGA,GAAK3B,EAAS2B,GAAK,EAACC,EAAAD,E,CAoClCE,CAAW7B,EAASG,EAAaC,E,IAvDrCe,EAAA9B,GAAS+B,OAAOU,KAAK,CACjBtB,SAAU,gBACVuB,kBAAmB,Q","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst firstDelay = document.querySelector('[name=\"delay\"]')\nconst delayStep = document.querySelector('[name=\"step\"]')\nconst amount = document.querySelector('[name=\"amount\"]')\nconst btnCreate = document.querySelector('button')\n\nbtnCreate.addEventListener('click', numberChecker)\n\nNotiflix.Notify.init({\n    position: 'center-center',\n    cssAnimationStyle: 'zoom',\n})\n\nfunction createPromise(position, delay) {\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n        const shouldResolve = Math.random() > 0.3;\n        if (shouldResolve) {\n        resolve({ position, delay })\n        } else {\n        reject({ position, delay })\n        }\n    }, delay)\n    })\n};\n\nfunction onBtnClick(counter, delayNumber, delay) {\n  for (let i = 1; i <= counter; i += 1) {\n    let position = i\n\n    btnCreate.setAttribute('disabled', 'disabled')\n    \n    if (i === 1) {\n    delay\n    } else {\n    delay += delayNumber\n    }\n    \n    createPromise(position, delay)\n        .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n        .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    })\n    .finally(() => {\n            i === counter\n                ? btnCreate.removeAttribute('disabled', 'disabled')\n                : btnCreate.setAttribute('disabled', 'disabled')\n        })\n    }\n}\n\nfunction numberChecker(e) {\n    e.preventDefault()\n\n  let counter = Number(amount.value);\n  let delayNumber =Number(delayStep.value)\n  let delay = Number(firstDelay.value);\n\n  if (counter < 0 || delayNumber < 0 || delay < 0) {\n    return\n  } else {\n    onBtnClick(counter, delayNumber, delay)\n  }\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$firstDelay","document","querySelector","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$btnCreate","addEventListener","e","preventDefault","counter","Number","value","delayNumber","delay","position1","i","setAttribute","position","Promise","resolve","reject","setTimeout","Math","random","$ce04d3a99e08e73b$var$createPromise","then","param","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure","finally","removeAttribute","i1","_loop","$ce04d3a99e08e73b$var$onBtnClick","init","cssAnimationStyle"],"version":3,"file":"03-promises.d420ee6f.js.map"}